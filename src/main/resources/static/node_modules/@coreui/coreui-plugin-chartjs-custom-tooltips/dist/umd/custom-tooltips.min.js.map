{"version":3,"file":"custom-tooltips.min.js","sources":["../../js/custom-tooltips.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * CoreUI Plugins - Custom Tooltips for Chart.js (v1.2.0): custom-tooltips.js\n * Licensed under MIT (https://coreui.io/license)\n * --------------------------------------------------------------------------\n */\n\nfunction CustomTooltips(tooltipModel) {\n  // Add unique id if not exist\n  const _setCanvasId = () => {\n    const _idMaker = () => {\n      const _hex = 16\n      const _multiplier = 0x10000\n      return ((1 + Math.random()) * _multiplier | 0).toString(_hex)\n    }\n    const _canvasId = `_canvas-${_idMaker() + _idMaker()}`\n    this._chart.canvas.id = _canvasId\n    return _canvasId\n  }\n\n  const ClassName = {\n    ABOVE                   : 'above',\n    BELOW                   : 'below',\n    CHARTJS_TOOLTIP         : 'chartjs-tooltip',\n    NO_TRANSFORM            : 'no-transform',\n    TOOLTIP_BODY            : 'tooltip-body',\n    TOOLTIP_BODY_ITEM       : 'tooltip-body-item',\n    TOOLTIP_BODY_ITEM_COLOR : 'tooltip-body-item-color',\n    TOOLTIP_BODY_ITEM_LABEL : 'tooltip-body-item-label',\n    TOOLTIP_BODY_ITEM_VALUE : 'tooltip-body-item-value',\n    TOOLTIP_HEADER          : 'tooltip-header',\n    TOOLTIP_HEADER_ITEM     : 'tooltip-header-item'\n  }\n\n  const Selector = {\n    DIV     : 'div',\n    SPAN    : 'span',\n    TOOLTIP : `${this._chart.canvas.id || _setCanvasId()}-tooltip`\n  }\n\n  let tooltip = document.getElementById(Selector.TOOLTIP)\n\n  if (!tooltip) {\n    tooltip = document.createElement('div')\n    tooltip.id = Selector.TOOLTIP\n    tooltip.className = ClassName.CHARTJS_TOOLTIP\n    this._chart.canvas.parentNode.appendChild(tooltip)\n  }\n\n  // Hide if no tooltip\n  if (tooltipModel.opacity === 0) {\n    tooltip.style.opacity = 0\n    return\n  }\n\n  // Set caret Position\n  tooltip.classList.remove(ClassName.ABOVE, ClassName.BELOW, ClassName.NO_TRANSFORM)\n  if (tooltipModel.yAlign) {\n    tooltip.classList.add(tooltipModel.yAlign)\n  } else {\n    tooltip.classList.add(ClassName.NO_TRANSFORM)\n  }\n\n  // Set Text\n  if (tooltipModel.body) {\n    const titleLines = tooltipModel.title || []\n\n    const tooltipHeader = document.createElement(Selector.DIV)\n    tooltipHeader.className = ClassName.TOOLTIP_HEADER\n\n    titleLines.forEach((title) => {\n      const tooltipHeaderTitle = document.createElement(Selector.DIV)\n      tooltipHeaderTitle.className = ClassName.TOOLTIP_HEADER_ITEM\n      tooltipHeaderTitle.innerHTML = title\n      tooltipHeader.appendChild(tooltipHeaderTitle)\n    })\n\n    const tooltipBody = document.createElement(Selector.DIV)\n    tooltipBody.className = ClassName.TOOLTIP_BODY\n\n    const tooltipBodyItems = tooltipModel.body.map((item) => item.lines)\n    tooltipBodyItems.forEach((item, i) => {\n      const tooltipBodyItem = document.createElement(Selector.DIV)\n      tooltipBodyItem.className = ClassName.TOOLTIP_BODY_ITEM\n\n      const colors = tooltipModel.labelColors[i]\n\n      const tooltipBodyItemColor = document.createElement(Selector.SPAN)\n      tooltipBodyItemColor.className = ClassName.TOOLTIP_BODY_ITEM_COLOR\n      tooltipBodyItemColor.style.backgroundColor = colors.backgroundColor\n\n      tooltipBodyItem.appendChild(tooltipBodyItemColor)\n\n      if (item[0].split(':').length > 1) {\n        const tooltipBodyItemLabel = document.createElement(Selector.SPAN)\n        tooltipBodyItemLabel.className = ClassName.TOOLTIP_BODY_ITEM_LABEL\n        tooltipBodyItemLabel.innerHTML = item[0].split(': ')[0]\n\n        tooltipBodyItem.appendChild(tooltipBodyItemLabel)\n\n        const tooltipBodyItemValue = document.createElement(Selector.SPAN)\n        tooltipBodyItemValue.className = ClassName.TOOLTIP_BODY_ITEM_VALUE\n        tooltipBodyItemValue.innerHTML = item[0].split(': ').pop()\n\n        tooltipBodyItem.appendChild(tooltipBodyItemValue)\n      } else {\n        const tooltipBodyItemValue = document.createElement(Selector.SPAN)\n        tooltipBodyItemValue.className = ClassName.TOOLTIP_BODY_ITEM_VALUE\n        tooltipBodyItemValue.innerHTML = item[0]\n\n        tooltipBodyItem.appendChild(tooltipBodyItemValue)\n      }\n\n      tooltipBody.appendChild(tooltipBodyItem)\n    })\n\n    tooltip.innerHTML = ''\n\n    tooltip.appendChild(tooltipHeader)\n    tooltip.appendChild(tooltipBody)\n  }\n\n  const positionY = this._chart.canvas.offsetTop\n  const positionX = this._chart.canvas.offsetLeft\n\n  // Display, position, and set styles for font\n  tooltip.style.opacity = 1\n  tooltip.style.left = `${positionX + tooltipModel.caretX}px`\n  tooltip.style.top = `${positionY + tooltipModel.caretY}px`\n}\n\nexport default CustomTooltips\n"],"names":["tooltipModel","_idMaker","_canvasId","ClassName","Selector","this","_chart","canvas","id","Math","random","toString","tooltip","document","getElementById","TOOLTIP","createElement","className","parentNode","appendChild","opacity","classList","remove","yAlign","add","body","titleLines","title","tooltipHeader","DIV","forEach","tooltipHeaderTitle","innerHTML","tooltipBody","map","item","lines","i","tooltipBodyItem","colors","labelColors","tooltipBodyItemColor","SPAN","style","backgroundColor","split","length","tooltipBodyItemLabel","tooltipBodyItemValue","pop","positionY","offsetTop","positionX","offsetLeft","left","caretX","top","caretY"],"mappings":"sNAOA,SAAwBA,OAGdC,EAKAC,SAKFC,EACsB,QADtBA,EAEsB,QAFtBA,EAGsB,kBAHtBA,EAIsB,eAJtBA,EAKsB,eALtBA,EAMsB,oBANtBA,EAOsB,0BAPtBA,EAQsB,0BARtBA,EASsB,0BATtBA,EAUsB,iBAVtBA,EAWsB,sBAGtBC,OACM,WACA,gBACGC,KAAKC,OAAOC,OAAOC,KA3B1BP,EAAW,kBAEK,OACX,EAAIQ,KAAKC,UAA0B,GAAGC,SAFlC,KAITT,cAAuBD,IAAaA,OACrCK,OAAOC,OAAOC,GAAKN,EACjBA,gBAuBLU,EAAUC,SAASC,eAAeV,EAASW,YAE1CH,OACOC,SAASG,cAAc,QACzBR,GAAKJ,EAASW,UACdE,UAAYd,OACfG,OAAOC,OAAOW,WAAWC,YAAYP,IAIf,IAAzBZ,EAAaoB,cAMTC,UAAUC,OAAOnB,EAAiBA,EAAiBA,GACvDH,EAAauB,SACPF,UAAUG,IAAIxB,EAAauB,UAE3BF,UAAUG,IAAIrB,GAIpBH,EAAayB,KAAM,KACfC,EAAa1B,EAAa2B,UAE1BC,EAAgBf,SAASG,cAAcZ,EAASyB,OACxCZ,UAAYd,IAEf2B,QAAQ,SAACH,OACZI,EAAqBlB,SAASG,cAAcZ,EAASyB,OACxCZ,UAAYd,IACZ6B,UAAYL,IACjBR,YAAYY,SAGtBE,EAAcpB,SAASG,cAAcZ,EAASyB,OACxCZ,UAAYd,EAECH,EAAayB,KAAKS,IAAI,SAACC,UAASA,EAAKC,QAC7CN,QAAQ,SAACK,EAAME,OACxBC,EAAkBzB,SAASG,cAAcZ,EAASyB,OACxCZ,UAAYd,MAEtBoC,EAASvC,EAAawC,YAAYH,GAElCI,EAAuB5B,SAASG,cAAcZ,EAASsC,WACxCzB,UAAYd,IACZwC,MAAMC,gBAAkBL,EAAOK,kBAEpCzB,YAAYsB,GAExBN,EAAK,GAAGU,MAAM,KAAKC,OAAS,EAAG,KAC3BC,EAAuBlC,SAASG,cAAcZ,EAASsC,QACxCzB,UAAYd,IACZ6B,UAAYG,EAAK,GAAGU,MAAM,MAAM,KAErC1B,YAAY4B,OAEtBC,EAAuBnC,SAASG,cAAcZ,EAASsC,QACxCzB,UAAYd,IACZ6B,UAAYG,EAAK,GAAGU,MAAM,MAAMI,QAErC9B,YAAY6B,OACvB,KACCA,EAAuBnC,SAASG,cAAcZ,EAASsC,QACxCzB,UAAYd,IACZ6B,UAAYG,EAAK,KAEtBhB,YAAY6B,KAGlB7B,YAAYmB,OAGlBN,UAAY,KAEZb,YAAYS,KACZT,YAAYc,OAGhBiB,EAAY7C,KAAKC,OAAOC,OAAO4C,UAC/BC,EAAY/C,KAAKC,OAAOC,OAAO8C,aAG7BV,MAAMvB,QAAU,IAChBuB,MAAMW,KAAUF,EAAYpD,EAAauD,cACzCZ,MAAMa,IAASN,EAAYlD,EAAayD,mBA7EtCd,MAAMvB,QAAU"}